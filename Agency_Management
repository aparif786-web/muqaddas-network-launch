
---

## **Agent Commission Structure**

### **1. Earnings Calculation**
The total earnings for an agent over the last 30 days consist of:
- **Host Income**: Total income generated by all hosts from:
  - Video calls
  - Voice calls
  - Text chats
  - Gifts
- **Invite Agents Income**: Total earnings from all agents invited by the host.

**Important Notes:**
- Task or ranking rewards are **not included** in the earnings calculation.
- If an agent has been inactive for 7 days or banned, their commission will **not be counted**.

### **2. Agency Commission Breakdown**
The agency commission for an agent includes:
- **Host Commission**: 
  - Formula: `Agent's Commission Rate * Host's Performance`
  
- **Invite Agent Commission**:
  - Formula: `(Agency Commission Rate - Commission Rate for Invite Agents) * Invite Agent Earnings`

### **3. Agent Commission Rates**
| Level | Earnings (30 Days) | Commission Rate |
|-------|--------------------|------------------|
| D     | 0                  | 4%               |
| C     | 2,000,000          | 8%               |
| B     | 10,000,000         | 12%              |
| A     | 50,000,000         | 16%              |
| S     | 150,000,000        | 20%              |

---

## **Sample Code Implementation**

### **JavaScript Example**

Hereâ€™s a basic implementation example in JavaScript for calculating the agent's commission based on the provided structure:

```javascript
class Agent {
    constructor(name) {
        this.name = name;
        this.totalEarnings = 0;
        this.inviteEarnings = 0;
        this.commissionRate = 0;
        this.activeDays = 30; // Assume active for 30 days initially
        this.banned = false; // Agent ban status
    }

    // Calculate commission
    calculateCommission(hostEarnings) {
        if (this.activeDays < 7 || this.banned) {
            return 0; // No commission if inactive or banned
        }

        const hostCommission = this.commissionRate * hostEarnings;
        const inviteCommission = (this.getAgencyCommissionRate() - this
